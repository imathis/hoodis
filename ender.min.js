/*!
  * =============================================================
  * Ender: open module JavaScript framework (https://ender.no.de)
  * Build: ender build bean bonzo domready qwery jeesh backbone
  * =============================================================
  */


/*!
  * Ender: open module JavaScript framework (client-lib)
  * copyright Dustin Diaz & Jacob Thornton 2011-2012 (@ded @fat)
  * http://ender.jit.su
  * License MIT
  */
(function(a){function g(a){var c=b["$"+a]||window[a];if(!c)throw new Error("Ender Error: Requested module '"+a+"' has not been defined.");return c}function h(a,c){return b["$"+a]=c}function i(a,b){for(var c in b)c!="noConflict"&&c!="_VERSION"&&(a[c]=b[c]);return a}function j(a,b){var c,d;this.selector=a;if(typeof a=="undefined"){c=[];this.selector=""}else typeof a=="string"||a.nodeName||a.length&&"item"in a||a==window?c=k._select(a,b):c=isFinite(a.length)?a:[a];this.length=c.length;for(d=this.length;d--;)this[d]=c[d]}function k(a,b){return new j(a,b)}a.global=a;var b={},c=a.$,d=a.ender,e=a.require,f=a.provide;a.provide=h;a.require=g;j.prototype.forEach=function(a,b){var c,d;for(c=0,d=this.length;c<d;++c)c in this&&a.call(b||this[c],this[c],c,this);return this};j.prototype.$=k;k._VERSION="0.4.3-dev";k.fn=j.prototype;k.ender=function(a,b){i(b?j.prototype:k,a)};k._select=function(a,b){return typeof a=="string"?(b||document).querySelectorAll(a):a.nodeName?[a]:a};k.noConflict=function(b){a.$=c;if(b){a.provide=f;a.require=e;a.ender=d;typeof b=="function"&&b(g,h,this)}return this};typeof module!="undefined"&&module.exports&&(module.exports=k);a.ender=a.$=k}(this));(function(){var a={exports:{}},b=a.exports;
/*!
    * Bean - copyright (c) Jacob Thornton 2011-2012
    * https://github.com/fat/bean
    * MIT license
    */
;!function(b,c,d){typeof a!="undefined"&&a.exports?a.exports=d(b,c):typeof define=="function"&&typeof define.amd=="object"?define(d):c[b]=d(b,c)}("bean",this,function(a,b){var c=window,d=b[a],e=/[^\.]*(?=\..*)\.|.*/,f=/\..*/,g="addEventListener",h="removeEventListener",i=document||{},j=i.documentElement||{},k=j[g],l=k?g:"attachEvent",m={},n=Array.prototype.slice,o=function(a,b){return a.split(b||" ")},p=function(a){return typeof a=="string"},q=function(a){return typeof a=="function"},r="click dblclick mouseup mousedown contextmenu mousewheel mousemultiwheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange focus blur change reset select submit load unload beforeunload resize move DOMContentLoaded readystatechange message error abort scroll ",s="show input invalid touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend textinputreadystatechange pageshow pagehide popstate hashchange offline online afterprint beforeprint dragstart dragenter dragover dragleave drag drop dragend loadstart progress suspend emptied stalled loadmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate play pause ratechange volumechange cuechange checking noupdate downloading cached updateready obsolete ",t=function(a,b,c){for(c=0;c<b.length;c++)b[c]&&(a[b[c]]=1);return a}({},o(r+(k?s:""))),u=function(){var a="compareDocumentPosition"in j?function(a,b){return b.compareDocumentPosition&&(b.compareDocumentPosition(a)&16)===16}:"contains"in j?function(a,b){b=b.nodeType===9||b===window?j:b;return b!==a&&b.contains(a)}:function(a,b){while(a=a.parentNode)if(a===b)return 1;return 0},b=function(b){var c=b.relatedTarget;return c?c!==this&&c.prefix!=="xul"&&!/document/.test(this.toString())&&!a(c,this):c==null};return{mouseenter:{base:"mouseover",condition:b},mouseleave:{base:"mouseout",condition:b},mousewheel:{base:/Firefox/.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel"}}}(),v=function(){var a=o("altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which propertyName"),b=a.concat(o("button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement")),d=b.concat(o("wheelDelta wheelDeltaX wheelDeltaY wheelDeltaZ axis")),e=a.concat(o("char charCode key keyCode keyIdentifier keyLocation location")),f=a.concat(o("data")),g=a.concat(o("touches targetTouches changedTouches scale rotation")),h=a.concat(o("data origin source")),k=a.concat(o("state")),l=/over|out/,m=[{reg:/key/i,fix:function(a,b){b.keyCode=a.keyCode||a.which;return e}},{reg:/click|mouse(?!(.*wheel|scroll))|menu|drag|drop/i,fix:function(a,c,d){c.rightClick=a.which===3||a.button===2;c.pos={x:0,y:0};if(a.pageX||a.pageY){c.clientX=a.pageX;c.clientY=a.pageY}else if(a.clientX||a.clientY){c.clientX=a.clientX+i.body.scrollLeft+j.scrollLeft;c.clientY=a.clientY+i.body.scrollTop+j.scrollTop}l.test(d)&&(c.relatedTarget=a.relatedTarget||a[(d=="mouseover"?"from":"to")+"Element"]);return b}},{reg:/mouse.*(wheel|scroll)/i,fix:function(){return d}},{reg:/^text/i,fix:function(){return f}},{reg:/^touch|^gesture/i,fix:function(){return g}},{reg:/^message$/i,fix:function(){return h}},{reg:/^popstate$/i,fix:function(){return k}},{reg:/.*/,fix:function(){return a}}],n={},p=function(a,b,d){if(!arguments.length)return;a=a||((b.ownerDocument||b.document||b).parentWindow||c).event;this.originalEvent=a;this.isNative=d;this.isBean=!0;if(!a)return;var e=a.type,f=a.target||a.srcElement,g,h,i,j,k;this.target=f&&f.nodeType===3?f.parentNode:f;if(d){k=n[e];if(!k)for(g=0,h=m.length;g<h;g++)if(m[g].reg.test(e)){n[e]=k=m[g].fix;break}j=k(a,this,e);for(g=j.length;g--;)!((i=j[g])in this)&&i in a&&(this[i]=a[i])}};p.prototype.preventDefault=function(){this.originalEvent.preventDefault?this.originalEvent.preventDefault():this.originalEvent.returnValue=!1};p.prototype.stopPropagation=function(){this.originalEvent.stopPropagation?this.originalEvent.stopPropagation():this.originalEvent.cancelBubble=!0};p.prototype.stop=function(){this.preventDefault();this.stopPropagation();this.stopped=!0};p.prototype.stopImmediatePropagation=function(){this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation();this.isImmediatePropagationStopped=function(){return!0}};p.prototype.isImmediatePropagationStopped=function(){return this.originalEvent.isImmediatePropagationStopped&&this.originalEvent.isImmediatePropagationStopped()};p.prototype.clone=function(a){var b=new p(this,this.element,this.isNative);b.currentTarget=a;return b};return p}(),w=function(a,b){return!k&&!b&&(a===i||a===c)?j:a},x=function(){var a=function(a,b,c,d){var e=function(c,e){return b.apply(a,d?n.call(e,c?0:1).concat(d):e)},f=function(c,d){return b.__beanDel?b.__beanDel.ft(c.target,a):d},g=c?function(a){var b=f(a,this);if(c.apply(b,arguments)){a&&(a.currentTarget=b);return e(a,arguments)}}:function(a){b.__beanDel&&(a=a.clone(f(a)));return e(a,arguments)};g.__beanDel=b.__beanDel;return g},b=function(b,c,d,e,f,g,h){var i=u[c],j;c=="unload"&&(d=D(E,b,c,d,e));if(i){i.condition&&(d=a(b,d,i.condition,g));c=i.base||c}this.isNative=j=t[c]&&!!b[l];this.customType=!k&&!j&&c;this.element=b;this.type=c;this.original=e;this.namespaces=f;this.eventType=k||j?c:"propertychange";this.target=w(b,j);this[l]=!!this.target[l];this.root=h;this.handler=a(b,d,null,g)};b.prototype.inNamespaces=function(a){var b,c,d=0;if(!a)return!0;if(!this.namespaces)return!1;for(b=a.length;b--;)for(c=this.namespaces.length;c--;)a[b]==this.namespaces[c]&&d++;return a.length===d};b.prototype.matches=function(a,b,c){return this.element===a&&(!b||this.original===b)&&(!c||this.handler===c)};return b}(),y=function(){var a={},b=function(c,d,e,f,g,h){var i=g?"r":"$";if(!d||d=="*")for(var j in a)j.charAt(0)==i&&b(c,j.substr(1),e,f,g,h);else{var k=0,l,m=a[i+d],n=c=="*";if(!m)return;for(l=m.length;k<l;k++)if((n||m[k].matches(c,e,f))&&!h(m[k],m,k,d))return}},c=function(b,c,d,e){var f,g=a[(e?"r":"$")+c];if(g)for(f=g.length;f--;)if(!g[f].root&&g[f].matches(b,d,null))return!0;return!1},d=function(a,c,d,e){var f=[];b(a,c,d,null,e,function(a){return f.push(a)});return f},e=function(b){var c=!b.root&&!this.has(b.element,b.type,null,!1),d=(b.root?"r":"$")+b.type;(a[d]||(a[d]=[])).push(b);return c},f=function(c){b(c.element,c.type,null,c.handler,c.root,function(b,c,d){c.splice(d,1);b.removed=!0;c.length===0&&delete a[(b.root?"r":"$")+b.type];return!1})},g=function(){var b,c=[];for(b in a)b.charAt(0)=="$"&&(c=c.concat(a[b]));return c};return{has:c,get:d,put:e,del:f,entries:g}}(),z,A=function(a){arguments.length?z=a:z=i.querySelectorAll?function(a,b){return b.querySelectorAll(a)}:function(){throw new Error("Bean: No selector engine installed")}},B=function(a,b){if(!k&&b&&a&&a.propertyName!="_on"+b)return;var c=y.get(this,b||a.type,null,!1),d=c.length,e=0;a=new v(a,this,!0);b&&(a.type=b);for(;e<d&&!a.isImmediatePropagationStopped();e++)c[e].removed||c[e].handler.call(this,a)},C=k?function(a,b,c){a[c?g:h](b,B,!1)}:function(a,b,c,d){var e;if(c){y.put(e=new x(a,d||b,function(b){B.call(a,b,d)},B,null,null,!0));d&&a["_on"+d]==null&&(a["_on"+d]=0);e.target.attachEvent("on"+e.eventType,e.handler)}else{e=y.get(a,d||b,B,!0)[0];if(e){e.target.detachEvent("on"+e.eventType,e.handler);y.del(e)}}},D=function(a,b,c,d,e){return function(){d.apply(this,arguments);a(b,c,e)}},E=function(a,b,c,d){var e=b&&b.replace(f,""),g=y.get(a,e,null,!1),h={},i,j;for(i=0,j=g.length;i<j;i++)if((!c||g[i].original===c)&&g[i].inNamespaces(d)){y.del(g[i]);!h[g[i].eventType]&&g[i][l]&&(h[g[i].eventType]={t:g[i].eventType,c:g[i].type})}for(i in h)y.has(a,h[i].t,null,!1)||C(a,h[i].t,!1,h[i].c)},F=function(a,b){var c=function(b,c){var d,e=p(a)?z(a,c):a;for(;b&&b!==c;b=b.parentNode)for(d=e.length;d--;)if(e[d]===b)return b},d=function(a){var d=c(a.target,this);d&&b.apply(d,arguments)};d.__beanDel={ft:c,selector:a};return d},G=k?function(a,b,d){var e=i.createEvent(a?"HTMLEvents":"UIEvents");e[a?"initEvent":"initUIEvent"](b,!0,!0,c,1);d.dispatchEvent(e)}:function(a,b,c){c=w(c,a);a?c.fireEvent("on"+b,i.createEventObject()):c["_on"+b]++},H=function(a,b,c){var d=p(b),g,h,i,j;if(d&&b.indexOf(" ")>0){b=o(b);for(j=b.length;j--;)H(a,b[j],c);return a}h=d&&b.replace(f,"");h&&u[h]&&(h=u[h].type);if(!b||d){if(i=d&&b.replace(e,""))i=o(i,".");E(a,h,c,i)}else if(q(b))E(a,null,b);else for(g in b)b.hasOwnProperty(g)&&H(a,g,b[g]);return a},I=function(a,b,c,d){var g,h,i,j,k,p,r;if(c===undefined&&typeof b=="object"){for(h in b)b.hasOwnProperty(h)&&I.call(this,a,h,b[h]);return}if(!q(c)){g=d;k=n.call(arguments,4);d=F(c,g,z)}else{k=n.call(arguments,3);d=g=c}i=o(b);this===m&&(d=D(H,a,b,d,g));for(j=i.length;j--;){r=y.put(p=new x(a,i[j].replace(f,""),d,g,o(i[j].replace(e,""),"."),k,!1));p[l]&&r&&C(a,p.eventType,!0,p.customType)}return a},J=function(a,b,c,d){return I.apply(null,p(c)?[a,c,b,d].concat(arguments.length>3?n.call(arguments,5):[]):n.call(arguments))},K=function(){return I.apply(m,arguments)},L=function(a,b,c){var d=o(b),g,h,i,j,k;for(g=d.length;g--;){b=d[g].replace(f,"");if(j=d[g].replace(e,""))j=o(j,".");if(!j&&!c&&a[l])G(t[b],b,a);else{k=y.get(a,b,null,!1);c=[!1].concat(c);for(h=0,i=k.length;h<i;h++)k[h].inNamespaces(j)&&k[h].handler.apply(a,c)}}return a},M=function(a,b,c){var d=y.get(b,c,null,!1),e=d.length,f=0,g,h;for(;f<e;f++)if(d[f].original){g=[a,d[f].type];(h=d[f].handler.__beanDel)&&g.push(h.selector);g.push(d[f].original);I.apply(null,g)}return a},N={on:I,add:J,one:K,off:H,remove:H,clone:M,fire:L,setSelectorEngine:A,noConflict:function(){b[a]=d;return this}};if(c.attachEvent){var O=function(){var a,b=y.entries();for(a in b)b[a].type&&b[a].type!=="unload"&&H(b[a].element,b[a].type);c.detachEvent("onunload",O);c.CollectGarbage&&c.CollectGarbage()};c.attachEvent("onunload",O)}A();return N});provide("bean",a.exports);!function(a){var b=require("bean"),c=function(a,c,d){var e=c?[c]:[];return function(){for(var d=0,f=this.length;d<f;d++){!arguments.length&&a=="on"&&c&&(a="fire");b[a].apply(this,[this[d]].concat(e,Array.prototype.slice.call(arguments,0)))}return this}},d=c("add"),e=c("on"),f=c("one"),g=c("off"),h=c("fire"),i=c("clone"),j=function(a,c,d){for(d=this.length;d--;){b.on.call(this,this[d],"mouseenter",a);b.on.call(this,this[d],"mouseleave",c)}return this},k={on:e,addListener:e,bind:e,listen:e,delegate:d,one:f,off:g,unbind:g,unlisten:g,removeListener:g,undelegate:g,emit:h,trigger:h,cloneEvents:i,hover:j},l="blur change click dblclick error focus focusin focusout keydown keypress keyup load mousedown mouseenter mouseleave mouseout mouseover mouseup mousemove resize scroll select submit unload".split(" ");for(var m=l.length;m--;)k[l[m]]=c("on",l[m]);b.setSelectorEngine(a);a.ender(k,!0)}(ender)})();(function(){var a={exports:{}},b=a.exports;
/*!
    * Bonzo: DOM Utility (c) Dustin Diaz 2012
    * https://github.com/ded/bonzo
    * License MIT
    */
(function(b,c,d){typeof a!="undefined"&&a.exports?a.exports=d():typeof c["define"]=="function"&&c.define.amd?define(b,d):c[b]=d()})("bonzo",this,function(){function F(a){return a&&a.nodeName&&(a.nodeType==1||a.nodeType==11)}function G(a,b,c){var d,e,f;if(typeof a=="string")return $.create(a);F(a)&&(a=[a]);if(c){f=[];for(d=0,e=a.length;d<e;d++)f[d]=W(b,a[d]);return f}return a}function H(a){return new RegExp("(^|\\s+)"+a+"(\\s+|$)")}function I(a,b,c,d){var e,f=0,g=a.length;for(;f<g;f++){e=d?a.length-f-1:f;b.call(c||a[e],a[e],e,a)}return a}function J(a,b,c){for(var d=0,e=a.length;d<e;d++)if(F(a[d])){J(a[d].childNodes,b,c);b.call(c||a[d],a[d],d,a)}return a}function K(a){return a.replace(/-(.)/g,function(a,b){return b.toUpperCase()})}function L(a){return a?a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase():a}function M(a){a[x]("data-node-uid")||a[w]("data-node-uid",++s);var b=a[x]("data-node-uid");return r[b]||(r[b]={})}function N(a){var b=a[x]("data-node-uid");b&&delete r[b]}function O(a){var b;try{return a===null||a===undefined?undefined:a==="true"?!0:a==="false"?!1:a==="null"?null:(b=parseFloat(a))==a?b:a}catch(c){}return undefined}function P(a,b,c){for(var d=0,e=a.length;d<e;++d)if(b.call(c||null,a[d],d,a))return!0;return!1}function Q(a){a=="transform"&&(a=z.transform)||/^transform-?[Oo]rigin$/.test(a)&&(a=z.transform+"Origin")||a=="float"&&(a=z.cssFloat);return a?K(a):null}function S(a,b,c,d){var f=0,g=b||this,h=[],i=e&&typeof a=="string"&&a.charAt(0)!="<"?e(a):a;I(G(i),function(a,b){I(g,function(d){c(a,h[f++]=b>0?W(g,d):d)},null,d)},this,d);g.length=f;I(h,function(a){g[--f]=a},null,!d);return g}function T(a,b,c){var d=$(a),e=d.css("position"),f=d.offset(),g="relative",h=e==g,i=[parseInt(d.css("left"),10),parseInt(d.css("top"),10)];if(e=="static"){d.css("position",g);e=g}isNaN(i[0])&&(i[0]=h?0:a.offsetLeft);isNaN(i[1])&&(i[1]=h?0:a.offsetTop);b!=null&&(a.style.left=b-f.left+i[0]+v);c!=null&&(a.style.top=c-f.top+i[1]+v)}function U(a,b){return typeof b=="function"?b(a):b}function V(a){this.length=0;if(a){a=typeof a!="string"&&!a.nodeType&&typeof a.length!="undefined"?a:[a];this.length=a.length;for(var b=0;b<a.length;b++)this[b]=a[b]}}function W(a,b){var c=b.cloneNode(!0),d,e;if(a.$&&typeof a.cloneEvents=="function"){a.$(c).cloneEvents(b);d=a.$(c).find("*");e=a.$(b).find("*");for(var f=0;f<e.length;f++)a.$(d[f]).cloneEvents(e[f])}return c}function X(b,c,d){var e=this[0];if(!e)return this;if(b==null&&c==null)return(Y(e)?Z():{x:e.scrollLeft,y:e.scrollTop})[d];if(Y(e))a.scrollTo(b,c);else{b!=null&&(e.scrollLeft=b);c!=null&&(e.scrollTop=c)}return this}function Y(b){return b===a||/^(?:body|html)$/i.test(b.tagName)}function Z(){return{x:a.pageXOffset||c.scrollLeft,y:a.pageYOffset||c.scrollTop}}function $(a){return new V(a)}var a=window,b=a.document,c=b.documentElement,d="parentNode",e=null,f=/^(checked|value|selected|disabled)$/i,g=/^(select|fieldset|table|tbody|tfoot|td|tr|colgroup)$/i,h=["<table>","</table>",1],i=["<table><tbody><tr>","</tr></tbody></table>",3],j=["<select>","</select>",1],k=["_","",0,1],l={thead:h,tbody:h,tfoot:h,colgroup:h,caption:h,tr:["<table><tbody>","</tbody></table>",2],th:i,td:i,col:["<table><colgroup>","</colgroup></table>",2],fieldset:["<form>","</form>",1],legend:["<form><fieldset>","</fieldset></form>",2],option:j,optgroup:j,script:k,style:k,link:k,param:k,base:k},m=/^(checked|selected|disabled)$/,n=/msie/i.test(navigator.userAgent),o,p,q,r={},s=0,t=/^-?[\d\.]+$/,u=/^data-(.+)$/,v="px",w="setAttribute",x="getAttribute",y="getElementsByTagName",z=function(){var a=b.createElement("p");a.innerHTML='<a href="#x">x</a><table style="float:left;"></table>';return{hrefExtended:a[y]("a")[0][x]("href")!="#x",autoTbody:a[y]("tbody").length!==0,computedStyle:b.defaultView&&b.defaultView.getComputedStyle,cssFloat:a[y]("table")[0].style.styleFloat?"styleFloat":"cssFloat",transform:function(){var b=["transform","webkitTransform","MozTransform","OTransform","msTransform"],c;for(c=0;c<b.length;c++)if(b[c]in a.style)return b[c]}(),classList:"classList"in a,opasity:function(){return typeof b.createElement("a").style.opacity!="undefined"}()}}(),A=/(^\s*|\s*$)/g,B=/\s+/,C=String.prototype.toString,D={lineHeight:1,zoom:1,zIndex:1,opacity:1,boxFlex:1,WebkitBoxFlex:1,MozBoxFlex:1},E=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(A,"")},R=z.computedStyle?function(a,c){var d=null,e=b.defaultView.getComputedStyle(a,"");e&&(d=e[c]);return a.style[c]||d}:n&&c.currentStyle?function(a,b){if(b=="opacity"&&!z.opasity){var c=100;try{c=a.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(d){try{c=a.filters("alpha").opacity}catch(e){}}return c/100}var f=a.currentStyle?a.currentStyle[b]:null;return a.style[b]||f}:function(a,b){return a.style[b]};if(z.classList){o=function(a,b){return a.classList.contains(b)};p=function(a,b){a.classList.add(b)};q=function(a,b){a.classList.remove(b)}}else{o=function(a,b){return H(b).test(a.className)};p=function(a,b){a.className=E(a.className+" "+b)};q=function(a,b){a.className=E(a.className.replace(H(b)," "))}}V.prototype={get:function(a){return this[a]||null},each:function(a,b){return I(this,a,b)},deepEach:function(a,b){return J(this,a,b)},map:function(a,b){var c=[],d,e;for(e=0;e<this.length;e++){d=a.call(this,this[e],e);b?b(d)&&c.push(d):c.push(d)}return c},html:function(a,b){var d=b?c.textContent===undefined?"innerText":"textContent":"innerHTML",e=this,f=function(b,c){I(G(a,e,c),function(a){b.appendChild(a)})},h=function(c,e){try{if(b||typeof a=="string"&&!g.test(c.tagName))return c[d]=a}catch(h){}f(c,e)};return typeof a!="undefined"?this.empty().each(h):this[0]?this[0][d]:""},text:function(a){return this.html(a,!0)},append:function(a){var b=this;return this.each(function(c,d){I(G(a,b,d),function(a){c.appendChild(a)})})},prepend:function(a){var b=this;return this.each(function(c,d){var e=c.firstChild;I(G(a,b,d),function(a){c.insertBefore(a,e)})})},appendTo:function(a,b){return S.call(this,a,b,function(a,b){a.appendChild(b)})},prependTo:function(a,b){return S.call(this,a,b,function(a,b){a.insertBefore(b,a.firstChild)},1)},before:function(a){var b=this;return this.each(function(c,e){I(G(a,b,e),function(a){c[d].insertBefore(a,c)})})},after:function(a){var b=this;return this.each(function(c,e){I(G(a,b,e),function(a){c[d].insertBefore(a,c.nextSibling)},null,1)})},insertBefore:function(a,b){return S.call(this,a,b,function(a,b){a[d].insertBefore(b,a)})},insertAfter:function(a,b){return S.call(this,a,b,function(a,b){var c=a.nextSibling;c?a[d].insertBefore(b,c):a[d].appendChild(b)},1)},replaceWith:function(a){$(G(a)).insertAfter(this);return this.remove()},addClass:function(a){a=C.call(a).split(B);return this.each(function(b){I(a,function(a){a&&!o(b,U(b,a))&&p(b,U(b,a))})})},removeClass:function(a){a=C.call(a).split(B);return this.each(function(b){I(a,function(a){a&&o(b,U(b,a))&&q(b,U(b,a))})})},hasClass:function(a){a=C.call(a).split(B);return P(this,function(b){return P(a,function(a){return a&&o(b,a)})})},toggleClass:function(a,b){a=C.call(a).split(B);return this.each(function(c){I(a,function(a){a&&(typeof b!="undefined"?b?p(c,a):q(c,a):o(c,a)?q(c,a):p(c,a))})})},show:function(a){a=typeof a=="string"?a:"";return this.each(function(b){b.style.display=a})},hide:function(){return this.each(function(a){a.style.display="none"})},toggle:function(a,b){b=typeof b=="string"?b:"";typeof a!="function"&&(a=null);return this.each(function(c){c.style.display=c.offsetWidth||c.offsetHeight?"none":b;a&&a.call(c)})},first:function(){return $(this.length?this[0]:[])},last:function(){return $(this.length?this[this.length-1]:[])},next:function(){return this.related("nextSibling")},previous:function(){return this.related("previousSibling")},parent:function(){return this.related(d)},related:function(a){return this.map(function(b){b=b[a];while(b&&b.nodeType!==1)b=b[a];return b||0},function(a){return a})},focus:function(){this.length&&this[0].focus();return this},blur:function(){this.length&&this[0].blur();return this},css:function(c,d){function g(a,b,c){for(var d in f)if(f.hasOwnProperty(d)){c=f[d];(b=Q(d))&&t.test(c)&&!(b in D)&&(c+=v);try{a.style[b]=U(a,c)}catch(e){}}}var e,f=c;if(d===undefined&&typeof c=="string"){d=this[0];if(!d)return null;if(d===b||d===a){e=d===b?$.doc():$.viewport();return c=="width"?e.width:c=="height"?e.height:""}return(c=Q(c))?R(d,c):null}if(typeof c=="string"){f={};f[c]=d}if(n&&f.opacity){f.filter="alpha(opacity="+f.opacity*100+")";f.zoom=c.zoom||1;delete f.opacity}return this.each(g)},offset:function(a,c){if(!a||typeof a!="object"||typeof a.top!="number"&&typeof a.left!="number"){if(typeof a=="number"||typeof c=="number")return this.each(function(b){T(b,a,c)});if(!this[0])return{top:0,left:0,height:0,width:0};var d=this[0],e=d.ownerDocument.documentElement,f=d.getBoundingClientRect(),g=Z(),h=d.offsetWidth,i=d.offsetHeight,j=f.top+g.y-Math.max(0,e&&e.clientTop,b.body.clientTop),k=f.left+g.x-Math.max(0,e&&e.clientLeft,b.body.clientLeft);return{top:j,left:k,height:i,width:h}}return this.each(function(b){T(b,a.left,a.top)})},dim:function(){if(!this.length)return{height:0,width:0};var a=this[0],b=a.nodeType==9&&a.documentElement,c=!b&&!!a.style&&!a.offsetWidth&&!a.offsetHeight?function(b){var c={position:a.style.position||"",visibility:a.style.visibility||"",display:a.style.display||""};b.first().css({position:"absolute",visibility:"hidden",display:"block"});return c}(this):null,d=b?Math.max(a.body.scrollWidth,a.body.offsetWidth,b.scrollWidth,b.offsetWidth,b.clientWidth):a.offsetWidth,e=b?Math.max(a.body.scrollHeight,a.body.offsetHeight,b.scrollWidth,b.offsetWidth,b.clientHeight):a.offsetHeight;c&&this.first().css(c);return{height:e,width:d}},attr:function(a,b){var c=this[0];if(typeof a=="string"||a instanceof String)return typeof b=="undefined"?c?f.test(a)?m.test(a)&&typeof c[a]=="string"?!0:c[a]:a!="href"&&a!="src"||!z.hrefExtended?c[x](a):c[x](a,2):null:this.each(function(c){f.test(a)?c[a]=U(c,b):c[w](a,U(c,b))});for(var d in a)a.hasOwnProperty(d)&&this.attr(d,a[d]);return this},removeAttr:function(a){return this.each(function(b){m.test(a)?b[a]=!1:b.removeAttribute(a)})},val:function(a){return typeof a=="string"?this.attr("value",a):this.length?this[0].value:null},data:function(a,b){var c=this[0],d,e;if(typeof b=="undefined"){if(!c)return null;d=M(c);if(typeof a=="undefined"){I(c.attributes,function(a){(e=(""+a.name).match(u))&&(d[K(e[1])]=O(a.value))});return d}typeof d[a]=="undefined"&&(d[a]=O(this.attr("data-"+L(a))));return d[a]}return this.each(function(c){M(c)[a]=b})},remove:function(){this.deepEach(N);return this.detach()},empty:function(){return this.each(function(a){J(a.childNodes,N);while(a.firstChild)a.removeChild(a.firstChild)})},detach:function(){return this.each(function(a){a[d]&&a[d].removeChild(a)})},scrollTop:function(a){return X.call(this,null,a,"y")},scrollLeft:function(a){return X.call(this,a,null,"x")}};$.setQueryEngine=function(a){e=a;delete $.setQueryEngine};$.aug=function(a,b){for(var c in a)a.hasOwnProperty(c)&&((b||V.prototype)[c]=a[c])};$.create=function(a){return typeof a=="string"&&a!==""?function(){var c=/^\s*<([^\s>]+)/.exec(a),e=b.createElement("div"),f=[],g=c?l[c[1].toLowerCase()]:null,h=g?g[2]+1:1,i=g&&g[3],j=d,k=z.autoTbody&&g&&g[0]=="<table>"&&!/<tbody/i.test(a);e.innerHTML=g?g[0]+a+g[1]:a;while(h--)e=e.firstChild;i&&e&&e.nodeType!==1&&(e=e.nextSibling);do(!c||e.nodeType==1)&&(!k||e.tagName.toLowerCase()!="tbody")&&f.push(e);while(e=e.nextSibling);I(f,function(a){a[j]&&a[j].removeChild(a)});return f}():F(a)?[a.cloneNode(!0)]:[]};$.doc=function(){var a=$.viewport();return{width:Math.max(b.body.scrollWidth,c.scrollWidth,a.width),height:Math.max(b.body.scrollHeight,c.scrollHeight,a.height)}};$.firstChild=function(a){for(var b=a.childNodes,c=0,d=b&&b.length||0,e;c<d;c++)b[c].nodeType===1&&(e=b[d=c]);return e};$.viewport=function(){return{width:n?c.clientWidth:self.innerWidth,height:n?c.clientHeight:self.innerHeight}};$.isAncestor="compareDocumentPosition"in c?function(a,b){return(a.compareDocumentPosition(b)&16)==16}:"contains"in c?function(a,b){return a!==b&&a.contains(b)}:function(a,b){while(b=b[d])if(b===a)return!0;return!1};return $});provide("bonzo",a.exports);(function(a){function c(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1}function d(a){var b=[],c=0,d=0,e,f,g;for(;f=a[c];++c){g=!1;for(e=0;e<b.length;++e)if(b[e]===f){g=!0;break}g||(b[d++]=f)}return b}function e(a,c){return typeof c=="undefined"?b(this).dim()[a]:this.css(a,c)}var b=require("bonzo");b.setQueryEngine(a);a.ender(b);a.ender(b(),!0);a.ender({create:function(c){return a(b.create(c))}});a.id=function(b){return a([document.getElementById(b)])};a.ender({parents:function(b,e){if(!this.length)return this;b||(b="*");var f=a(b),g,h,i,j=[];for(g=0,h=this.length;g<h;g++){i=this[g];while(i=i.parentNode)if(~c(f,i)){j.push(i);if(e)break}}return a(d(j))},parent:function(){return a(d(b(this).parent()))},closest:function(a){return this.parents(a,!0)},first:function(){return a(this.length?this[0]:this)},last:function(){return a(this.length?this[this.length-1]:[])},next:function(){return a(b(this).next())},previous:function(){return a(b(this).previous())},appendTo:function(a){return b(this.selector).appendTo(a,this)},prependTo:function(a){return b(this.selector).prependTo(a,this)},insertAfter:function(a){return b(this.selector).insertAfter(a,this)},insertBefore:function(a){return b(this.selector).insertBefore(a,this)},siblings:function(){var b,c,d,e=[];for(b=0,c=this.length;b<c;b++){d=this[b];while(d=d.previousSibling)d.nodeType==1&&e.push(d);d=this[b];while(d=d.nextSibling)d.nodeType==1&&e.push(d)}return a(e)},children:function(){var c,e,f,g=[];for(c=0,e=this.length;c<e;c++){if(!(f=b.firstChild(this[c])))continue;g.push(f);while(f=f.nextSibling)f.nodeType==1&&g.push(f)}return a(d(g))},height:function(a){return e.call(this,"height",a)},width:function(a){return e.call(this,"width",a)}},!0)})(ender)})();(function(){var a={exports:{}},b=a.exports;
/*!
    * domready (c) Dustin Diaz 2012 - License MIT
    */
;!function(b,c){typeof a!="undefined"?a.exports=c():typeof define=="function"&&typeof define.amd=="object"?define(c):this[b]=c()}("domready",function(a){function m(a){l=1;while(a=b.shift())a()}var b=[],c,d=!1,e=document,f=e.documentElement,g=f.doScroll,h="DOMContentLoaded",i="addEventListener",j="onreadystatechange",k="readyState",l=/^loade|c/.test(e[k]);e[i]&&e[i](h,c=function(){e.removeEventListener(h,c,d);m()},d);g&&e.attachEvent(j,c=function(){if(/^c/.test(e[k])){e.detachEvent(j,c);m()}});return a=g?function(c){self!=top?l?c():b.push(c):function(){try{f.doScroll("left")}catch(b){return setTimeout(function(){a(c)},50)}c()}()}:function(a){l?a():b.push(a)}});provide("domready",a.exports);!function(a){var b=require("domready");a.ender({domReady:b});a.ender({ready:function(a){b(a);return this}},!0)}(ender)})();(function(){var a={exports:{}},b=a.exports;
/*!
    * @preserve Qwery - A Blazing Fast query selector engine
    * https://github.com/ded/qwery
    * copyright Dustin Diaz & Jacob Thornton 2012
    * MIT License
    */
(function(b,c,d){typeof a!="undefined"&&a.exports?a.exports=c():typeof d["define"]=="function"&&d.define.amd?define(b,c):d[b]=c()})("qwery",function(){function C(){this.c={}}function H(a){return D.g(a)||D.s(a,"(^|\\s+)"+a+"(\\s+|$)",1)}function I(a,b){var c=0,d=a.length;for(;c<d;c++)b(a[c])}function J(a){for(var b=[],c=0,d=a.length;c<d;++c)V(a[c])?b=b.concat(a[c]):b[b.length]=a[c];return b}function K(a){var b=0,c=a.length,d=[];for(;b<c;b++)d[b]=a[b];return d}function L(a){while(a=a.previousSibling)if(a[h]==1)break;return a}function M(a){return a.match(A)}function N(a,b,c,d,e,f,i,l,m,n,o){var p,q,r,s,t;if(this[h]!==1)return!1;if(b&&b!=="*"&&this[g]&&this[g].toLowerCase()!==b)return!1;if(c&&(q=c.match(j))&&q[1]!==this.id)return!1;if(c&&(t=c.match(k)))for(p=t.length;p--;)if(!H(t[p].slice(1)).test(this.className))return!1;if(m&&Y.pseudos[m]&&!Y.pseudos[m](this,o))return!1;if(d&&!i){s=this.attributes;for(r in s)if(Object.prototype.hasOwnProperty.call(s,r)&&(s[r].name||r)==e)return this}return d&&!P(f,_(this,e)||"",i)?!1:this}function O(a){return E.g(a)||E.s(a,a.replace(t,"\\$1"))}function P(a,b,c){switch(a){case"=":return b==c;case"^=":return b.match(F.g("^="+c)||F.s("^="+c,"^"+O(c),1));case"$=":return b.match(F.g("$="+c)||F.s("$="+c,O(c)+"$",1));case"*=":return b.match(F.g(c)||F.s(c,O(c),1));case"~=":return b.match(F.g("~="+c)||F.s("~="+c,"(?:^|\\s+)"+O(c)+"(?:\\s+|$)",1));case"|=":return b.match(F.g("|="+c)||F.s("|="+c,"^"+O(c)+"(-|$)",1))}return 0}function Q(a,b){var c=[],e=[],f,i,j,k,m,n,o,p,q=b,r=G.g(a)||G.s(a,a.split(z)),s=a.match(y);if(!r.length)return c;k=(r=r.slice(0)).pop();r.length&&(j=r[r.length-1].match(l))&&(q=X(b,j[1]));if(!q)return c;o=M(k);n=q!==b&&q[h]!==9&&s&&/^[+~]$/.test(s[s.length-1])?function(a){while(q=q.nextSibling)q[h]==1&&(o[1]?o[1]==q[g].toLowerCase():1)&&(a[a.length]=q);return a}([]):q[d](o[1]||"*");for(f=0,i=n.length;f<i;f++)if(p=N.apply(n[f],o))c[c.length]=p;if(!r.length)return c;I(c,function(a){S(a,r,s)&&(e[e.length]=a)});return e}function R(a,b,c){if(T(b))return a==b;if(V(b))return!!~J(b).indexOf(a);var d=b.split(","),e,f;while(b=d.pop()){e=G.g(b)||G.s(b,b.split(z));f=b.match(y);e=e.slice(0);if(N.apply(a,M(e.pop()))&&(!e.length||S(a,e,f,c)))return!0}return!1}function S(a,b,c,d){function f(a,d,g){while(g=B[c[d]](g,a))if(T(g)&&N.apply(g,M(b[d]))){if(!d)return g;if(e=f(g,d-1,g))return e}}var e;return(e=f(a,b.length-1,a))&&(!d||$(e,d))}function T(a,b){return a&&typeof a=="object"&&(b=a[h])&&(b==1||b==9)}function U(a){var b=[],c,d;a:for(c=0;c<a.length;++c){for(d=0;d<b.length;++d)if(b[d]==a[c])continue a;b[b.length]=a[c]}return b}function V(a){return typeof a=="object"&&isFinite(a.length)}function W(b){return b?typeof b=="string"?Y(b)[0]:!b[h]&&V(b)?b[0]:b:a}function X(a,b,c){return a[h]===9?a.getElementById(b):a.ownerDocument&&((c=a.ownerDocument.getElementById(b))&&$(c,a)&&c||!$(a,a.ownerDocument)&&i('[id="'+b+'"]',a)[0])}function Y(a,b){var e,f,g=W(b);if(!g||!a)return[];if(a===window||T(a))return!b||a!==window&&T(g)&&$(a,g)?[a]:[];if(a&&V(a))return J(a);if(e=a.match(x)){if(e[1])return(f=X(g,e[1]))?[f]:[];if(e[2])return K(g[d](e[2]));if(ab&&e[3])return K(g[c](e[3]))}return i(a,g)}function Z(a,b){return function(c){var d,e;if(p.test(c)){if(a[h]!==9){(e=d=a.getAttribute("id"))||a.setAttribute("id",e="__qwerymeupscotty");c='[id="'+e+'"]'+c;b(a.parentNode||a,c,!0);d||a.removeAttribute("id")}return}c.length&&b(a,c,!1)}}var a=document,b=a.documentElement,c="getElementsByClassName",d="getElementsByTagName",e="querySelectorAll",f="useNativeQSA",g="tagName",h="nodeType",i,j=/#([\w\-]+)/,k=/\.[\w\-]+/g,l=/^#([\w\-]+)$/,m=/^\.([\w\-]+)$/,n=/^([\w\-]+)$/,o=/^([\w]+)?\.([\w\-]+)$/,p=/(^|,)\s*[>~+]/,q=/^\s+|\s*([,\s\+\~>]|$)\s*/g,r=/[\s\>\+\~]/,s=/(?![\s\w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^'"]*\]|[\s\w\+\-]*\))/,t=/([.*+?\^=!:${}()|\[\]\/\\])/g,u=/^(\*|[a-z0-9]+)?(?:([\.\#]+[\w\-\.#]+)?)/,v=/\[([\w\-]+)(?:([\|\^\$\*\~]?\=)['"]?([ \w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^]+)["']?)?\]/,w=/:([\w\-]+)(\(['"]?([^()]+)['"]?\))?/,x=new RegExp(l.source+"|"+n.source+"|"+m.source),y=new RegExp("("+r.source+")"+s.source,"g"),z=new RegExp(r.source+s.source),A=new RegExp(u.source+"("+v.source+")?"+"("+w.source+")?"),B={" ":function(a){return a&&a!==b&&a.parentNode},">":function(a,b){return a&&a.parentNode==b.parentNode&&a.parentNode},"~":function(a){return a&&a.previousSibling},"+":function(a,b,c,d){return a?(c=L(a))&&(d=L(b))&&c==d&&c:!1}};C.prototype={g:function(a){return this.c[a]||undefined},s:function(a,b,c){b=c?new RegExp(b):b;return this.c[a]=b}};var D=new C,E=new C,F=new C,G=new C,$="compareDocumentPosition"in b?function(a,b){return(b.compareDocumentPosition(a)&16)==16}:"contains"in b?function(a,c){c=c[h]===9||c==window?b:c;return c!==a&&c.contains(a)}:function(a,b){while(a=a.parentNode)if(a===b)return 1;return 0},_=function(){var b=a.createElement("p");return(b.innerHTML='<a href="#x">x</a>')&&b.firstChild.getAttribute("href")!="#x"?function(a,b){return b==="class"?a.className:b==="href"||b==="src"?a.getAttribute(b,2):a.getAttribute(b)}:function(a,b){return a.getAttribute(b)}}(),ab=!!a[c],bb=a.querySelector&&a[e],cb=function(a,b){var c=[],d,f;try{if(b[h]===9||!p.test(a))return K(b[e](a));I(d=a.split(","),Z(b,function(a,b){f=a[e](b);f.length==1?c[c.length]=f.item(0):f.length&&(c=c.concat(K(f)))}));return d.length>1&&c.length>1?U(c):c}catch(g){}return db(a,b)},db=function(a,b){var c=[],e,f,g,i,j,k;a=a.replace(q,"$1");if(f=a.match(o)){j=H(f[2]);e=b[d](f[1]||"*");for(g=0,i=e.length;g<i;g++)j.test(e[g].className)&&(c[c.length]=e[g]);return c}I(k=a.split(","),Z(b,function(a,d,e){j=Q(d,a);for(g=0,i=j.length;g<i;g++)if(a[h]===9||e||$(j[g],b))c[c.length]=j[g]}));return k.length>1&&c.length>1?U(c):c},eb=function(a){typeof a[f]!="undefined"&&(i=a[f]?bb?cb:db:db)};eb({useNativeQSA:!0});Y.configure=eb;Y.uniq=U;Y.is=R;Y.pseudos={};return Y},this);provide("qwery",a.exports);(function(a){var b=function(){var a;try{a=require("qwery")}catch(b){a=require("qwery-mobile")}finally{return a}}();a.pseudos=b.pseudos;a._select=function(c,d){return(a._select=function(){var c;if(typeof a.create=="function")return function(c,d){return/^\s*</.test(c)?a.create(c,d):b(c,d)};try{c=require("bonzo");return function(a,d){return/^\s*</.test(a)?c.create(a,d):b(a,d)}}catch(d){}return b}())(c,d)};a.ender({find:function(c){var d=[],e,f,g,h,i;for(e=0,f=this.length;e<f;e++){i=b(c,this[e]);for(g=0,h=i.length;g<h;g++)d.push(i[g])}return a(b.uniq(d))},and:function(b){var c=a(b);for(var d=this.length,e=0,f=this.length+c.length;d<f;d++,e++)this[d]=c[e];this.length+=c.length;return this},is:function(a,c){var d,e;for(d=0,e=this.length;d<e;d++)if(b.is(this[d],a,c))return!0;return!1}},!0)})(ender)})();(function(){var a={exports:{}},b=a.exports;(function(){var c=this,d=c._,e={},f=Array.prototype,g=Object.prototype,h=Function.prototype,i=f.push,j=f.slice,k=f.concat,l=f.unshift,m=g.toString,n=g.hasOwnProperty,o=f.forEach,p=f.map,q=f.reduce,r=f.reduceRight,s=f.filter,t=f.every,u=f.some,v=f.indexOf,w=f.lastIndexOf,x=Array.isArray,y=Object.keys,z=h.bind,A=function(a){if(a instanceof A)return a;if(!(this instanceof A))return new A(a);this._wrapped=a};if(typeof b!="undefined"){typeof a!="undefined"&&a.exports&&(b=a.exports=A);b._=A}else c._=A;A.VERSION="1.4.2";var B=A.each=A.forEach=function(a,b,c){if(a==null)return;if(o&&a.forEach===o)a.forEach(b,c);else if(a.length===+a.length){for(var d=0,f=a.length;d<f;d++)if(b.call(c,a[d],d,a)===e)return}else for(var g in a)if(A.has(a,g)&&b.call(c,a[g],g,a)===e)return};A.map=A.collect=function(a,b,c){var d=[];if(a==null)return d;if(p&&a.map===p)return a.map(b,c);B(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)});return d};A.reduce=A.foldl=A.inject=function(a,b,c,d){var e=arguments.length>2;a==null&&(a=[]);if(q&&a.reduce===q){d&&(b=A.bind(b,d));return e?a.reduce(b,c):a.reduce(b)}B(a,function(a,f,g){if(!e){c=a;e=!0}else c=b.call(d,c,a,f,g)});if(!e)throw new TypeError("Reduce of empty array with no initial value");return c};A.reduceRight=A.foldr=function(a,b,c,d){var e=arguments.length>2;a==null&&(a=[]);if(r&&a.reduceRight===r){d&&(b=A.bind(b,d));return arguments.length>2?a.reduceRight(b,c):a.reduceRight(b)}var f=a.length;if(f!==+f){var g=A.keys(a);f=g.length}B(a,function(h,i,j){i=g?g[--f]:--f;if(!e){c=a[i];e=!0}else c=b.call(d,c,a[i],i,j)});if(!e)throw new TypeError("Reduce of empty array with no initial value");return c};A.find=A.detect=function(a,b,c){var d;C(a,function(a,e,f){if(b.call(c,a,e,f)){d=a;return!0}});return d};A.filter=A.select=function(a,b,c){var d=[];if(a==null)return d;if(s&&a.filter===s)return a.filter(b,c);B(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)});return d};A.reject=function(a,b,c){var d=[];if(a==null)return d;B(a,function(a,e,f){b.call(c,a,e,f)||(d[d.length]=a)});return d};A.every=A.all=function(a,b,c){b||(b=A.identity);var d=!0;if(a==null)return d;if(t&&a.every===t)return a.every(b,c);B(a,function(a,f,g){if(!(d=d&&b.call(c,a,f,g)))return e});return!!d};var C=A.some=A.any=function(a,b,c){b||(b=A.identity);var d=!1;if(a==null)return d;if(u&&a.some===u)return a.some(b,c);B(a,function(a,f,g){if(d||(d=b.call(c,a,f,g)))return e});return!!d};A.contains=A.include=function(a,b){var c=!1;if(a==null)return c;if(v&&a.indexOf===v)return a.indexOf(b)!=-1;c=C(a,function(a){return a===b});return c};A.invoke=function(a,b){var c=j.call(arguments,2);return A.map(a,function(a){return(A.isFunction(b)?b:a[b]).apply(a,c)})};A.pluck=function(a,b){return A.map(a,function(a){return a[b]})};A.where=function(a,b){return A.isEmpty(b)?[]:A.filter(a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})};A.max=function(a,b,c){if(!b&&A.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);if(!b&&A.isEmpty(a))return-Infinity;var d={computed:-Infinity};B(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>=d.computed&&(d={value:a,computed:g})});return d.value};A.min=function(a,b,c){if(!b&&A.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);if(!b&&A.isEmpty(a))return Infinity;var d={computed:Infinity};B(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g<d.computed&&(d={value:a,computed:g})});return d.value};A.shuffle=function(a){var b,c=0,d=[];B(a,function(a){b=A.random(c++);d[c-1]=d[b];d[b]=a});return d};var D=function(a){return A.isFunction(a)?a:function(b){return b[a]}};A.sortBy=function(a,b,c){var d=D(b);return A.pluck(A.map(a,function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||c===void 0)return 1;if(c<d||d===void 0)return-1}return a.index<b.index?-1:1}),"value")};var E=function(a,b,c,d){var e={},f=D(b);B(a,function(b,g){var h=f.call(c,b,g,a);d(e,h,b)});return e};A.groupBy=function(a,b,c){return E(a,b,c,function(a,b,c){(A.has(a,b)?a[b]:a[b]=[]).push(c)})};A.countBy=function(a,b,c){return E(a,b,c,function(a,b,c){A.has(a,b)||(a[b]=0);a[b]++})};A.sortedIndex=function(a,b,c,d){c=c==null?A.identity:D(c);var e=c.call(d,b),f=0,g=a.length;while(f<g){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f};A.toArray=function(a){return a?a.length===+a.length?j.call(a):A.values(a):[]};A.size=function(a){return a.length===+a.length?a.length:A.keys(a).length};A.first=A.head=A.take=function(a,b,c){return b!=null&&!c?j.call(a,0,b):a[0]};A.initial=function(a,b,c){return j.call(a,0,a.length-(b==null||c?1:b))};A.last=function(a,b,c){return b!=null&&!c?j.call(a,Math.max(a.length-b,0)):a[a.length-1]};A.rest=A.tail=A.drop=function(a,b,c){return j.call(a,b==null||c?1:b)};A.compact=function(a){return A.filter(a,function(a){return!!a})};var F=function(a,b,c){B(a,function(a){A.isArray(a)?b?i.apply(c,a):F(a,b,c):c.push(a)});return c};A.flatten=function(a,b){return F(a,b,[])};A.without=function(a){return A.difference(a,j.call(arguments,1))};A.uniq=A.unique=function(a,b,c,d){var e=c?A.map(a,c,d):a,f=[],g=[];B(e,function(c,d){if(b?!d||g[g.length-1]!==c:!A.contains(g,c)){g.push(c);f.push(a[d])}});return f};A.union=function(){return A.uniq(k.apply(f,arguments))};A.intersection=function(a){var b=j.call(arguments,1);return A.filter(A.uniq(a),function(a){return A.every(b,function(b){return A.indexOf(b,a)>=0})})};A.difference=function(a){var b=k.apply(f,j.call(arguments,1));return A.filter(a,function(a){return!A.contains(b,a)})};A.zip=function(){var a=j.call(arguments),b=A.max(A.pluck(a,"length")),c=new Array(b);for(var d=0;d<b;d++)c[d]=A.pluck(a,""+d);return c};A.object=function(a,b){var c={};for(var d=0,e=a.length;d<e;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c};A.indexOf=function(a,b,c){if(a==null)return-1;var d=0,e=a.length;if(c){if(typeof c!="number"){d=A.sortedIndex(a,b);return a[d]===b?d:-1}d=c<0?Math.max(0,e+c):c}if(v&&a.indexOf===v)return a.indexOf(b,c);for(;d<e;d++)if(a[d]===b)return d;return-1};A.lastIndexOf=function(a,b,c){if(a==null)return-1;var d=c!=null;if(w&&a.lastIndexOf===w)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);var e=d?c:a.length;while(e--)if(a[e]===b)return e;return-1};A.range=function(a,b,c){if(arguments.length<=1){b=a||0;a=0}c=arguments[2]||1;var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);while(e<d){f[e++]=a;a+=c}return f};var G=function(){};A.bind=function(b,c){var d,e;if(b.bind===z&&z)return z.apply(b,j.call(arguments,1));if(!A.isFunction(b))throw new TypeError;e=j.call(arguments,2);return d=function(){if(this instanceof d){G.prototype=b.prototype;var a=new G,f=b.apply(a,e.concat(j.call(arguments)));return Object(f)===f?f:a}return b.apply(c,e.concat(j.call(arguments)))}};A.bindAll=function(a){var b=j.call(arguments,1);b.length==0&&(b=A.functions(a));B(b,function(b){a[b]=A.bind(a[b],a)});return a};A.memoize=function(a,b){var c={};b||(b=A.identity);return function(){var d=b.apply(this,arguments);return A.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}};A.delay=function(a,b){var c=j.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)};A.defer=function(a){return A.delay.apply(A,[a,1].concat(j.call(arguments,1)))};A.throttle=function(a,b){var c,d,e,f,g,h,i=A.debounce(function(){g=f=!1},b);return function(){c=this;d=arguments;var j=function(){e=null;g&&(h=a.apply(c,d));i()};e||(e=setTimeout(j,b));if(f)g=!0;else{f=!0;h=a.apply(c,d)}i();return h}};A.debounce=function(a,b,c){var d,e;return function(){var f=this,g=arguments,h=function(){d=null;c||(e=a.apply(f,g))},i=c&&!d;clearTimeout(d);d=setTimeout(h,b);i&&(e=a.apply(f,g));return e}};A.once=function(a){var b=!1,c;return function(){if(b)return c;b=!0;c=a.apply(this,arguments);a=null;return c}};A.wrap=function(a,b){return function(){var c=[a];i.apply(c,arguments);return b.apply(this,c)}};A.compose=function(){var a=arguments;return function(){var b=arguments;for(var c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}};A.after=function(a,b){return a<=0?b():function(){if(--a<1)return b.apply(this,arguments)}};A.keys=y||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)A.has(a,c)&&(b[b.length]=c);return b};A.values=function(a){var b=[];for(var c in a)A.has(a,c)&&b.push(a[c]);return b};A.pairs=function(a){var b=[];for(var c in a)A.has(a,c)&&b.push([c,a[c]]);return b};A.invert=function(a){var b={};for(var c in a)A.has(a,c)&&(b[a[c]]=c);return b};A.functions=A.methods=function(a){var b=[];for(var c in a)A.isFunction(a[c])&&b.push(c);return b.sort()};A.extend=function(a){B(j.call(arguments,1),function(b){for(var c in b)a[c]=b[c]});return a};A.pick=function(a){var b={},c=k.apply(f,j.call(arguments,1));B(c,function(c){c in a&&(b[c]=a[c])});return b};A.omit=function(a){var b={},c=k.apply(f,j.call(arguments,1));for(var d in a)A.contains(c,d)||(b[d]=a[d]);return b};A.defaults=function(a){B(j.call(arguments,1),function(b){for(var c in b)a[c]==null&&(a[c]=b[c])});return a};A.clone=function(a){return A.isObject(a)?A.isArray(a)?a.slice():A.extend({},a):a};A.tap=function(a,b){b(a);return a};var H=function(a,b,c,d){if(a===b)return a!==0||1/a==1/b;if(a==null||b==null)return a===b;a instanceof A&&(a=a._wrapped);b instanceof A&&(b=b._wrapped);var e=m.call(a);if(e!=m.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:a==0?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if(typeof a!="object"||typeof b!="object")return!1;var f=c.length;while(f--)if(c[f]==a)return d[f]==b;c.push(a);d.push(b);var g=0,h=!0;if(e=="[object Array]"){g=a.length;h=g==b.length;if(h)while(g--)if(!(h=H(a[g],b[g],c,d)))break}else{var i=a.constructor,j=b.constructor;if(i!==j&&!(A.isFunction(i)&&i instanceof i&&A.isFunction(j)&&j instanceof j))return!1;for(var k in a)if(A.has(a,k)){g++;if(!(h=A.has(b,k)&&H(a[k],b[k],c,d)))break}if(h){for(k in b)if(A.has(b,k)&&!(g--))break;h=!g}}c.pop();d.pop();return h};A.isEqual=function(a,b){return H(a,b,[],[])};A.isEmpty=function(a){if(a==null)return!0;if(A.isArray(a)||A.isString(a))return a.length===0;for(var b in a)if(A.has(a,b))return!1;return!0};A.isElement=function(a){return!!a&&a.nodeType===1};A.isArray=x||function(a){return m.call(a)=="[object Array]"};A.isObject=function(a){return a===Object(a)};B(["Arguments","Function","String","Number","Date","RegExp"],function(a){A["is"+a]=function(b){return m.call(b)=="[object "+a+"]"}});A.isArguments(arguments)||(A.isArguments=function(a){return!!a&&!!A.has(a,"callee")});typeof /./!="function"&&(A.isFunction=function(a){return typeof a=="function"});A.isFinite=function(a){return A.isNumber(a)&&isFinite(a)};A.isNaN=function(a){return A.isNumber(a)&&a!=+a};A.isBoolean=function(a){return a===!0||a===!1||m.call(a)=="[object Boolean]"};A.isNull=function(a){return a===null};A.isUndefined=function(a){return a===void 0};A.has=function(a,b){return n.call(a,b)};A.noConflict=function(){c._=d;return this};A.identity=function(a){return a};A.times=function(a,b,c){for(var d=0;d<a;d++)b.call(c,d)};A.random=function(a,b){if(b==null){b=a;a=0}return a+(0|Math.random()*(b-a+1))};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};I.unescape=A.invert(I.escape);var J={escape:new RegExp("["+A.keys(I.escape).join("")+"]","g"),unescape:new RegExp("("+A.keys(I.unescape).join("|")+")","g")};A.each(["escape","unescape"],function(a){A[a]=function(b){return b==null?"":(""+b).replace(J[a],function(b){return I[a][b]})}});A.result=function(a,b){if(a==null)return null;var c=a[b];return A.isFunction(c)?c.call(a):c};A.mixin=function(a){B(A.functions(a),function(b){var c=A[b]=a[b];A.prototype[b]=function(){var a=[this._wrapped];i.apply(a,arguments);return O.call(this,c.apply(A,a))}})};var K=0;A.uniqueId=function(a){var b=K++;return a?a+b:b};A.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,M={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},N=/\\|'|\r|\n|\t|\u2028|\u2029/g;A.template=function(a,b,c){c=A.defaults({},c,A.templateSettings);var d=new RegExp([(c.escape||L).source,(c.interpolate||L).source,(c.evaluate||L).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,g,h){f+=a.slice(e,h).replace(N,function(a){return"\\"+M[a]});f+=c?"'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?"'+\n((__t=("+d+"))==null?'':__t)+\n'":g?"';\n"+g+"\n__p+='":"";e=h+b.length});f+="';\n";c.variable||(f="with(obj||{}){\n"+f+"}\n");f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var g=new Function(c.variable||"obj","_",f)}catch(h){h.source=f;throw h}if(b)return g(b,A);var i=function(a){return g.call(this,a,A)};i.source="function("+(c.variable||"obj")+"){\n"+f+"}";return i};A.chain=function(a){return A(a).chain()};var O=function(a){return this._chain?A(a).chain():a};A.mixin(A);B(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=f[a];A.prototype[a]=function(){var c=this._wrapped;b.apply(c,arguments);(a=="shift"||a=="splice")&&c.length===0&&delete c[0];return O.call(this,c)}});B(["concat","join","slice"],function(a){var b=f[a];A.prototype[a]=function(){return O.call(this,b.apply(this._wrapped,arguments))}});A.extend(A.prototype,{chain:function(){this._chain=!0;return this},value:function(){return this._wrapped}})}).call(this);provide("underscore",a.exports);$.ender(a.exports)})();(function(){var a={exports:{}},b=a.exports;(function(){var a=this,c=a.Backbone,d=Array.prototype.slice,e=Array.prototype.splice,f;typeof b!="undefined"?f=b:f=a.Backbone={};f.VERSION="0.9.2";var g=a._;!g&&typeof require!="undefined"&&(g=require("underscore"));var h=a.jQuery||a.Zepto||a.ender;f.setDomLibrary=function(a){h=a};f.noConflict=function(){a.Backbone=c;return this};f.emulateHTTP=!1;f.emulateJSON=!1;var i=/\s+/,j=f.Events={on:function(a,b,c){var d,e,f,g,h;if(!b)return this;a=a.split(i);d=this._callbacks||(this._callbacks={});while(e=a.shift()){h=d[e];f=h?h.tail:{};f.next=g={};f.context=c;f.callback=b;d[e]={tail:g,next:h?h.next:f}}return this},off:function(a,b,c){var d,e,f,h,j,k;if(!(e=this._callbacks))return;if(!(a||b||c)){delete this._callbacks;return this}a=a?a.split(i):g.keys(e);while(d=a.shift()){f=e[d];delete e[d];if(!f||!b&&!c)continue;h=f.tail;while((f=f.next)!==h){j=f.callback;k=f.context;(b&&j!==b||c&&k!==c)&&this.on(d,j,k)}}return this},trigger:function(a){var b,c,e,f,g,h,j;if(!(e=this._callbacks))return this;h=e.all;a=a.split(i);j=d.call(arguments,1);while(b=a.shift()){if(c=e[b]){f=c.tail;while((c=c.next)!==f)c.callback.apply(c.context||this,j)}if(c=h){f=c.tail;g=[b].concat(j);while((c=c.next)!==f)c.callback.apply(c.context||this,g)}}return this}};j.bind=j.on;j.unbind=j.off;var k=f.Model=function(a,b){var c;a||(a={});b&&b.parse&&(a=this.parse(a));if(c=B(this,"defaults"))a=g.extend({},c,a);b&&b.collection&&(this.collection=b.collection);this.attributes={};this._escapedAttributes={};this.cid=g.uniqueId("c");this.changed={};this._silent={};this._pending={};this.set(a,{silent:!0});this.changed={};this._silent={};this._pending={};this._previousAttributes=g.clone(this.attributes);this.initialize.apply(this,arguments)};g.extend(k.prototype,j,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(a){return g.clone(this.attributes)},get:function(a){return this.attributes[a]},escape:function(a){var b;if(b=this._escapedAttributes[a])return b;var c=this.get(a);return this._escapedAttributes[a]=g.escape(c==null?"":""+c)},has:function(a){return this.get(a)!=null},set:function(a,b,c){var d,e,f;if(g.isObject(a)||a==null){d=a;c=b}else{d={};d[a]=b}c||(c={});if(!d)return this;d instanceof k&&(d=d.attributes);if(c.unset)for(e in d)d[e]=void 0;if(!this._validate(d,c))return!1;this.idAttribute in d&&(this.id=d[this.idAttribute]);var h=c.changes={},i=this.attributes,j=this._escapedAttributes,l=this._previousAttributes||{};for(e in d){f=d[e];if(!g.isEqual(i[e],f)||c.unset&&g.has(i,e)){delete j[e];(c.silent?this._silent:h)[e]=!0}c.unset?delete i[e]:i[e]=f;if(!g.isEqual(l[e],f)||g.has(i,e)!=g.has(l,e)){this.changed[e]=f;c.silent||(this._pending[e]=!0)}else{delete this.changed[e];delete this._pending[e]}}c.silent||this.change(c);return this},unset:function(a,b){(b||(b={})).unset=!0;return this.set(a,null,b)},clear:function(a){(a||(a={})).unset=!0;return this.set(g.clone(this.attributes),a)},fetch:function(a){a=a?g.clone(a):{};var b=this,c=a.success;a.success=function(d,e,f){if(!b.set(b.parse(d,f),a))return!1;c&&c(b,d)};a.error=f.wrapError(a.error,b,a);return(this.sync||f.sync).call(this,"read",this,a)},save:function(a,b,c){var d,e;if(g.isObject(a)||a==null){d=a;c=b}else{d={};d[a]=b}c=c?g.clone(c):{};if(c.wait){if(!this._validate(d,c))return!1;e=g.clone(this.attributes)}var h=g.extend({},c,{silent:!0});if(d&&!this.set(d,c.wait?h:c))return!1;var i=this,j=c.success;c.success=function(a,b,e){var f=i.parse(a,e);if(c.wait){delete c.wait;f=g.extend(d||{},f)}if(!i.set(f,c))return!1;j?j(i,a):i.trigger("sync",i,a,c)};c.error=f.wrapError(c.error,i,c);var k=this.isNew()?"create":"update",l=(this.sync||f.sync).call(this,k,this,c);c.wait&&this.set(e,h);return l},destroy:function(a){a=a?g.clone(a):{};var b=this,c=a.success,d=function(){b.trigger("destroy",b,b.collection,a)};if(this.isNew()){d();return!1}a.success=function(e){a.wait&&d();c?c(b,e):b.trigger("sync",b,e,a)};a.error=f.wrapError(a.error,b,a);var e=(this.sync||f.sync).call(this,"delete",this,a);a.wait||d();return e},url:function(){var a=B(this,"urlRoot")||B(this.collection,"url")||C();return this.isNew()?a:a+(a.charAt(a.length-1)=="/"?"":"/")+encodeURIComponent(this.id)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},change:function(a){a||(a={});var b=this._changing;this._changing=!0;for(var c in this._silent)this._pending[c]=!0;var d=g.extend({},a.changes,this._silent);this._silent={};for(var c in d)this.trigger("change:"+c,this,this.get(c),a);if(b)return this;while(!g.isEmpty(this._pending)){this._pending={};this.trigger("change",this,a);for(var c in this.changed){if(this._pending[c]||this._silent[c])continue;delete this.changed[c]}this._previousAttributes=g.clone(this.attributes)}this._changing=!1;return this},hasChanged:function(a){return arguments.length?g.has(this.changed,a):!g.isEmpty(this.changed)},changedAttributes:function(a){if(!a)return this.hasChanged()?g.clone(this.changed):!1;var b,c=!1,d=this._previousAttributes;for(var e in a){if(g.isEqual(d[e],b=a[e]))continue;(c||(c={}))[e]=b}return c},previous:function(a){return!arguments.length||!this._previousAttributes?null:this._previousAttributes[a]},previousAttributes:function(){return g.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(a,b){if(b.silent||!this.validate)return!0;a=g.extend({},this.attributes,a);var c=this.validate(a,b);if(!c)return!0;b&&b.error?b.error(this,c,b):this.trigger("error",this,c,b);return!1}});var l=f.Collection=function(a,b){b||(b={});b.model&&(this.model=b.model);b.comparator&&(this.comparator=b.comparator);this._reset();this.initialize.apply(this,arguments);a&&this.reset(a,{silent:!0,parse:b.parse})};g.extend(l.prototype,j,{model:k,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},add:function(a,b){var c,d,f,h,i,j,k={},l={},m=[];b||(b={});a=g.isArray(a)?a.slice():[a];for(c=0,f=a.length;c<f;c++){if(!(h=a[c]=this._prepareModel(a[c],b)))throw new Error("Can't add an invalid model to a collection");i=h.cid;j=h.id;if(k[i]||this._byCid[i]||j!=null&&(l[j]||this._byId[j])){m.push(c);continue}k[i]=l[j]=h}c=m.length;while(c--)a.splice(m[c],1);for(c=0,f=a.length;c<f;c++){(h=a[c]).on("all",this._onModelEvent,this);this._byCid[h.cid]=h;h.id!=null&&(this._byId[h.id]=h)}this.length+=f;d=b.at!=null?b.at:this.models.length;e.apply(this.models,[d,0].concat(a));this.comparator&&this.sort({silent:!0});if(b.silent)return this;for(c=0,f=this.models.length;c<f;c++){if(!k[(h=this.models[c]).cid])continue;b.index=c;h.trigger("add",h,this,b)}return this},remove:function(a,b){var c,d,e,f;b||(b={});a=g.isArray(a)?a.slice():[a];for(c=0,d=a.length;c<d;c++){f=this.getByCid(a[c])||this.get(a[c]);if(!f)continue;delete this._byId[f.id];delete this._byCid[f.cid];e=this.indexOf(f);this.models.splice(e,1);this.length--;if(!b.silent){b.index=e;f.trigger("remove",f,this,b)}this._removeReference(f)}return this},push:function(a,b){a=this._prepareModel(a,b);this.add(a,b);return a},pop:function(a){var b=this.at(this.length-1);this.remove(b,a);return b},unshift:function(a,b){a=this._prepareModel(a,b);this.add(a,g.extend({at:0},b));return a},shift:function(a){var b=this.at(0);this.remove(b,a);return b},get:function(a){return a==null?void 0:this._byId[a.id!=null?a.id:a]},getByCid:function(a){return a&&this._byCid[a.cid||a]},at:function(a){return this.models[a]},where:function(a){return g.isEmpty(a)?[]:this.filter(function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},sort:function(a){a||(a={});if(!this.comparator)throw new Error("Cannot sort a set without a comparator");var b=g.bind(this.comparator,this);this.comparator.length==1?this.models=this.sortBy(b):this.models.sort(b);a.silent||this.trigger("reset",this,a);return this},pluck:function(a){return g.map(this.models,function(b){return b.get(a)})},reset:function(a,b){a||(a=[]);b||(b={});for(var c=0,d=this.models.length;c<d;c++)this._removeReference(this.models[c]);this._reset();this.add(a,g.extend({silent:!0},b));b.silent||this.trigger("reset",this,b);return this},fetch:function(a){a=a?g.clone(a):{};a.parse===undefined&&(a.parse=!0);var b=this,c=a.success;a.success=function(d,e,f){b[a.add?"add":"reset"](b.parse(d,f),a);c&&c(b,d)};a.error=f.wrapError(a.error,b,a);return(this.sync||f.sync).call(this,"read",this,a)},create:function(a,b){var c=this;b=b?g.clone(b):{};a=this._prepareModel(a,b);if(!a)return!1;b.wait||c.add(a,b);var d=b.success;b.success=function(e,f,g){b.wait&&c.add(e,b);d?d(e,f):e.trigger("sync",a,f,b)};a.save(null,b);return a},parse:function(a,b){return a},chain:function(){return g(this.models).chain()},_reset:function(a){this.length=0;this.models=[];this._byId={};this._byCid={}},_prepareModel:function(a,b){b||(b={});if(a instanceof k)a.collection||(a.collection=this);else{var c=a;b.collection=this;a=new this.model(c,b);a._validate(a.attributes,b)||(a=!1)}return a},_removeReference:function(a){this==a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){if((a=="add"||a=="remove")&&c!=this)return;a=="destroy"&&this.remove(b,d);if(b&&a==="change:"+b.idAttribute){delete this._byId[b.previous(b.idAttribute)];this._byId[b.id]=b}this.trigger.apply(this,arguments)}});var m=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];g.each(m,function(a){l.prototype[a]=function(){return g[a].apply(g,[this.models].concat(g.toArray(arguments)))}});var n=f.Router=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},o=/:\w+/g,p=/\*\w+/g,q=/[-[\]{}()+?.,\\^$|#\s]/g;g.extend(n.prototype,j,{initialize:function(){},route:function(a,b,c){f.history||(f.history=new r);g.isRegExp(a)||(a=this._routeToRegExp(a));c||(c=this[b]);f.history.route(a,g.bind(function(d){var e=this._extractParameters(a,d);c&&c.apply(this,e);this.trigger.apply(this,["route:"+b].concat(e));f.history.trigger("route",this,b,e)},this));return this},navigate:function(a,b){f.history.navigate(a,b)},_bindRoutes:function(){if(!this.routes)return;var a=[];for(var b in this.routes)a.unshift([b,this.routes[b]]);for(var c=0,d=a.length;c<d;c++)this.route(a[c][0],a[c][1],this[a[c][1]])},_routeToRegExp:function(a){a=a.replace(q,"\\$&").replace(o,"([^/]+)").replace(p,"(.*?)");return new RegExp("^"+a+"$")},_extractParameters:function(a,b){return a.exec(b).slice(1)}});var r=f.History=function(){this.handlers=[];g.bindAll(this,"checkUrl")},s=/^[#\/]/,t=/msie [\w.]+/;r.started=!1;g.extend(r.prototype,j,{interval:50,getHash:function(a){var b=a?a.location:window.location,c=b.href.match(/#(.*)$/);return c?c[1]:""},getFragment:function(a,b){if(a==null)if(this._hasPushState||b){a=window.location.pathname;var c=window.location.search;c&&(a+=c)}else a=this.getHash();a.indexOf(this.options.root)||(a=a.substr(this.options.root.length));return a.replace(s,"")},start:function(a){if(r.started)throw new Error("Backbone.history has already been started");r.started=!0;this.options=g.extend({},{root:"/"},this.options,a);this._wantsHashChange=this.options.hashChange!==!1;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var b=this.getFragment(),c=document.documentMode,d=t.exec(navigator.userAgent.toLowerCase())&&(!c||c<=7);if(d){this.iframe=h('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow;this.navigate(b)}this._hasPushState?h(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!d?h(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=b;var e=window.location,f=e.pathname==this.options.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!f){this.fragment=this.getFragment(null,!0);window.location.replace(this.options.root+"#"+this.fragment);return!0}if(this._wantsPushState&&this._hasPushState&&f&&e.hash){this.fragment=this.getHash().replace(s,"");window.history.replaceState({},document.title,e.protocol+"//"+e.host+this.options.root+this.fragment)}if(!this.options.silent)return this.loadUrl()},stop:function(){h(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);r.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){var b=this.getFragment();b==this.fragment&&this.iframe&&(b=this.getFragment(this.getHash(this.iframe)));if(b==this.fragment)return!1;this.iframe&&this.navigate(b);this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(a){var b=this.fragment=this.getFragment(a),c=g.any(this.handlers,function(a){if(a.route.test(b)){a.callback(b);return!0}});return c},navigate:function(a,b){if(!r.started)return!1;if(!b||b===!0)b={trigger:b};var c=(a||"").replace(s,"");if(this.fragment==c)return;if(this._hasPushState){c.indexOf(this.options.root)!=0&&(c=this.options.root+c);this.fragment=c;window.history[b.replace?"replaceState":"pushState"]({},document.title,c)}else if(this._wantsHashChange){this.fragment=c;this._updateHash(window.location,c,b.replace);if(this.iframe&&c!=this.getFragment(this.getHash(this.iframe))){b.replace||this.iframe.document.open().close();this._updateHash(this.iframe.location,c,b.replace)}}else window.location.assign(this.options.root+a);b.trigger&&this.loadUrl(a)},_updateHash:function(a,b,c){c?a.replace(a.toString().replace(/(javascript:|#).*$/,"")+"#"+b):a.hash=b}});var u=f.View=function(a){this.cid=g.uniqueId("view");this._configure(a||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()},v=/^(\S+)\s*(.*)$/,w=["model","collection","el","id","attributes","className","tagName"];g.extend(u.prototype,j,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();return this},make:function(a,b,c){var d=document.createElement(a);b&&h(d).attr(b);c&&h(d).html(c);return d},setElement:function(a,b){this.$el&&this.undelegateEvents();this.$el=a instanceof h?a:h(a);this.el=this.$el[0];b!==!1&&this.delegateEvents();return this},delegateEvents:function(a){if(!a&&!(a=B(this,"events")))return;this.undelegateEvents();for(var b in a){var c=a[b];g.isFunction(c)||(c=this[a[b]]);if(!c)throw new Error('Method "'+a[b]+'" does not exist');var d=b.match(v),e=d[1],f=d[2];c=g.bind(c,this);e+=".delegateEvents"+this.cid;f===""?this.$el.bind(e,c):this.$el.delegate(f,e,c)}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(a){this.options&&(a=g.extend({},this.options,a));for(var b=0,c=w.length;b<c;b++){var d=w[b];a[d]&&(this[d]=a[d])}this.options=a},_ensureElement:function(){if(!this.el){var a=B(this,"attributes")||{};this.id&&(a.id=this.id);this.className&&(a["class"]=this.className);this.setElement(this.make(this.tagName,a),!1)}else this.setElement(this.el,!1)}});var x=function(a,b){var c=A(this,a,b);c.extend=this.extend;return c};k.extend=l.extend=n.extend=u.extend=x;var y={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};f.sync=function(a,b,c){var d=y[a];c||(c={});var e={type:d,dataType:"json"};c.url||(e.url=B(b,"url")||C());if(!c.data&&b&&(a=="create"||a=="update")){e.contentType="application/json";e.data=JSON.stringify(b.toJSON())}if(f.emulateJSON){e.contentType="application/x-www-form-urlencoded";e.data=e.data?{model:e.data}:{}}if(f.emulateHTTP)if(d==="PUT"||d==="DELETE"){f.emulateJSON&&(e.data._method=d);e.type="POST";e.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",d)}}e.type!=="GET"&&!f.emulateJSON&&(e.processData=!1);return h.ajax(g.extend(e,c))};f.wrapError=function(a,b,c){return function(d,e){e=d===b?e:d;a?a(b,e,c):b.trigger("error",b,e,c)}};var z=function(){},A=function(a,b,c){var d;b&&b.hasOwnProperty("constructor")?d=b.constructor:d=function(){a.apply(this,arguments)};g.extend(d,a);z.prototype=a.prototype;d.prototype=new z;b&&g.extend(d.prototype,b);c&&g.extend(d,c);d.prototype.constructor=d;d.__super__=a.prototype;return d},B=function(a,b){return!a||!a[b]?null:g.isFunction(a[b])?a[b]():a[b]},C=function(){throw new Error('A "url" property or function must be specified')}}).call(this);provide("backbone",a.exports);$.ender(a.exports)})()